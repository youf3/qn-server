---
asyncapi: "2.6.0"
id: "urn:gov:quant-net"
info:
  description: "Quant-Net RPC Single Photon Generation (SPG) Experiment Interface"
  title: "RPC SPG Endpoint"
  version: "1.0.0"
components:
  messages:
    RequestMessage:
      name: spgRequest
      messageId: spg.request.id
      payload:
        "$ref": "#/components/schemas/SPGRequest"
    ResponseMEssage:
      name: spgResponse
      messageId: spg.response.id
      payload:
        "$ref": "#/components/schemas/SPGResponse"
  schemas:
    SPGRequest:
      title: spgRequest
      type: object
      required:
        - cmd
        - agentId
        - payload
      properties:
        cmd:
          type: string
        agentId:
          type: string
        payload:
          type: object
          required:
            - nodes
            - rate
          properties:
            nodes:
              type: array
              minItems: 1
              items:
                type: string
            rate:
              type: number
            duration:
              type: number
    SPGQuery:
      title: spgQuery
      type: object
      required:
        - cmd
        - agentId
        - payload
      properties:
        cmd:
          type: string
        agentId:
          type: string
        payload:
          type: object
          required:
            - rid
          properties:
            rid:
              type: string
    SPGResponse:
      title:  spgResponse
      type: object
      required:
        - status
      properties:
        status:
          $ref: "qn-schema:objects/objects.yaml#/components/schemas/Status"
        rid:
          type: string
        data:
          type: array
          items:
            type: object
    SPGRequestRecord:
      title: spgRequestRecord
      type: object
      required:
        - phase
        - rid
      properties:
        phase:
          type: string
        rid:
          type: string
        data:
          type: object
        nodes:
          type: array
          items:
            type: string
        rate:
          type: number
        duration:
          type: number
defaultContentType: application/json
